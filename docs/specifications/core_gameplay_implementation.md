# コアゲームプレイの実装機能一覧

*作成日: 2025年3月20日*

## 1. 基本システム実装

### 1.1 物理エンジン設定
- Unity物理エンジン (PhysX) の最適化設定
- 物理マテリアル作成（コマ用、オブジェクト素材別）
- レイヤーベースの衝突マトリックス設定
- 物理演算のフレームレート設定

### 1.2 入力システム
- タッチ/ドラッグ検出システム
- ジェスチャー認識（フリックの方向と強さの計算）
- マルチタッチ対応（将来のマルチプレイヤー用）
- 入力制限（UI上での入力を無視など）

### 1.3 カメラシステム
- プレイヤーコマ追従カメラ
- ズームイン/アウト機能
- カメラシェイク効果
- 視点切り替え機能（トップダウン⇔斜め見下ろし）

## 2. プレイヤーコマの実装

### 2.1 コマ物理挙動
- Rigidbodyベースの物理挙動
- コマの回転と直進運動の制御
- 壁との反射挙動の調整
- 衝突時の物理反応調整

### 2.2 コマ操作システム
- タッチによるコマ選択ロジック
- ドラッグによる力と方向の決定
- リリース時の力の適用
- 移動制限と境界処理

### 2.3 コマ成長システム
- 段階的なサイズ変更機能
- 成長に伴う物理特性の変更
- 成長エフェクト処理
- 成長ロジック（ポイント閾値監視）

## 3. 破壊可能オブジェクトの実装

### 3.1 オブジェクト基本クラス
- 基本プロパティ設定（サイズ、耐久値、ポイント値）
- 衝突検出と衝撃値計算
- ダメージ処理システム
- オブジェクトプール管理（パフォーマンス最適化）

### 3.2 破壊処理
- 破壊条件判定ロジック
- 破壊アニメーション制御
- 破片生成と飛散制御
- 破壊後のオブジェクト管理

### 3.3 オブジェクトバリエーション
- オブジェクト工場パターンの実装
- 素材別特性の設定（木、石、金属など）
- サイズ別バリエーション生成
- ランダム配置アルゴリズム

## 4. エフェクト・サウンドシステム

### 4.1 エフェクト管理
- パーティクルシステム管理
- エフェクトプール管理
- 衝突エフェクトの生成と制御
- 破壊エフェクトの生成と制御

### 4.2 サウンド管理
- オーディオマネージャーの実装
- サウンドプール管理
- 3D位置ベース音響効果
- サウンドミキシングとボリューム調整

### 4.3 フィードバック強化
- 衝突時のハプティックフィードバック（モバイル）
- カメラシェイク制御
- 時間制御（重要な瞬間のスローモーション）
- 視覚的強調エフェクト

## 5. スコアシステム実装

### 5.1 スコア計算ロジック
- 基本ポイント計算
- コンボシステム実装
- ボーナスポイント計算
- スコア倍率管理

### 5.2 スコア表示
- UIスコア更新
- ポイント獲得アニメーション
- ハイスコア保存と読み込み
- リアルタイムスコア更新

### 5.3 ゲーム進行管理
- タイマー実装
- ゲーム開始/終了条件
- レベル進行管理
- ステージクリア条件