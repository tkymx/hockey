## ステージとゾーン構造

### ステージシステム
- **ステージ定義**: 独立したテーマと世界観を持つプレイエリア
- **基本構成**: 各ステージは5つのゾーンから構成される
- **ステージ例**:
  - 工場ステージ: 工業的な雰囲気、金属製オブジェクト中心
  - 古城ステージ: 石造りの雰囲気、石像や家具オブジェクト中心
  - 宇宙ステージ: 未来的な雰囲気、クリスタルや宇宙船パーツ中心
- **収益化**: 基本ステージ以外は課金コンテンツとして追加販売

### ゾーン構成
- **構造**: 各ステージ内で中央から外周へと同心円状に広がる5つのゾーン
- **解放条件**: プレイヤーレベルに連動
  - ゾーン1: 初期状態で解放（チュートリアル）
  - ゾーン2: プレイヤーレベル3で解放
  - ゾーン3: プレイヤーレベル5で解放
  - ゾーン4: プレイヤーレベル8で解放
  - ゾーン5: プレイヤーレベル12で解放
- **移動制限**:
  - 各ゾーンは見えない壁/バリアで区切られる
  - プレイヤーレベルアップによるゾーン解放時に対応する壁が消失
  - 初期状態では小さな領域のみ移動可能
  - レベルアップに伴い移動可能範囲が拡大

### ゾーンタイプの分類
- **ゾーンタイプ**: 各ゾーンは以下のいずれかのタイプに分類される
  - **固定配置ゾーン**: 初期状態から配置されているオブジェクトが中心のゾーン
  - **動的生成ゾーン**: ゲームプレイ中に動的に生成されるオブジェクトが中心のゾーン
  - **混合ゾーン**: 両方のタイプのオブジェクトが存在するゾーン
- **配置戦略**:
  - 外周部のゾーン（4, 5）は主に固定配置ゾーンとして設計
  - 中心部のゾーン（1, 2）は主に動的生成ゾーンとして設計
  - 中間ゾーン（3）は混合ゾーンとして設計
- **プレイフィール**:
  - 固定配置ゾーンは探索と戦略性を重視
  - 動的生成ゾーンは反射神経と対応力を重視
  - 混合ゾーンはバランスの取れたプレイ体験を提供

## 破壊可能オブジェクト設計

### オブジェクト難易度システム
- **破壊難易度**: 5段階で設定
  - レベル1: 基本オブジェクト（初期パックで破壊可能）
  - レベル2: 一般オブジェクト（サイズ2のパックで破壊可能）
  - レベル3: 強化オブジェクト（サイズ3のパックで破壊可能）
  - レベル4: 堅固オブジェクト（サイズ4のパックで破壊可能）
  - レベル5: 超硬オブジェクト（サイズ5/最大のパックでのみ破壊可能）
- **視覚的表現**: 
  - オブジェクトの素材感、色合い、サイズで難易度を直感的に表現
  - レベル1: 薄い色、小さいサイズ、軽そうな素材
  - レベル5: 濃い色、大きいサイズ、重そうな素材
- **報酬設計**:
  - 難易度に比例したポイント付与
  - 高難度オブジェクトからはレアアイテムドロップの確率上昇

### ゾーン別オブジェクト配置
- **ゾーン1**: レベル1〜2のオブジェクト中心、高密度に配置
- **ゾーン2**: レベル2〜3のオブジェクト、戦略的な配置パターン
- **ゾーン3**: レベル3〜4のオブジェクト、複雑な組み合わせ
- **ゾーン4**: レベル4中心、一部レベル5、集合体としての挙動
- **ゾーン5**: レベル5中心、希少だが高報酬のオブジェクト

## オブジェクトプレハブ設計と実装

### オブジェクトプレハブ設計
- **共通コンポーネント**:
  - DestructibleObject (基本挙動スクリプト)
  - Physics Material (物理特性)
  - Collider (当たり判定)
  - Visual Elements (ビジュアル要素)
  - Effects (破壊エフェクト)
- **テーマ別バリエーション**:
  - 同じ物理特性を持つオブジェクトをステージテーマに合わせて外観変更
  - 例: レベル3オブジェクトは工場ステージでは「機械部品」、古城ステージでは「石の彫像」

### 最適化戦略
- **オブジェクトプーリング**:
  - 頻繁に生成・破壊されるオブジェクトをプールで管理
  - 破壊時は非アクティブ化し、必要時に再利用
- **LOD (Level Of Detail)**:
  - カメラから遠いオブジェクトは簡略化された表現を使用
  - ズームアウト時のパフォーマンス最適化
- **チャンク管理**:
  - 各ゾーンをさらに小区画(チャンク)に分割
  - 視界内のチャンクのみをアクティブ化し、メモリ使用量を削減

## 視覚・演出効果

### カメラと世界の拡張演出
- **視野拡大**: ゾーン解放ごとにカメラが徐々にズームアウト
- **解放エフェクト**:
  - 新ゾーン解放時に境界の霧/バリアが消失するビジュアルエフェクト
  - 画面フラッシュ、パーティクルエフェクト、カメラシェイク等の演出
- **音響効果**: 各ゾーンで異なる環境音を設定、解放時に徐々に変化

### 世界の拡張感演出
- **未開放ゾーンの表現**: モヤや霧で覆われ、シルエットのみ視認可能
- **探索意欲の刺激**: 未開放ゾーンに光る特殊オブジェクトを配置
- **マップ表示**: ミニマップに解放済み/未解放ゾーンを明示

## オブジェクト出現システム
### オブジェクト出現方法
- **出現タイプの分類**: オブジェクトは以下の2種類の方法で出現
  - 固定配置オブジェクト: ステージ開始時から配置されているオブジェクト
  - 動的生成オブジェクト: ゲームプレイ中に特定のタイミングで出現するオブジェクト

### 固定配置オブジェクト
- **配置ルール**: 
  - プレイヤーの成長とゾーン解放に合わせて台形状のエリアで階層的に配置
  - プレイヤーの現在ランク以下の台形エリアには、そのランクに対応するオブジェクトは配置しない
  - 例: レベル3プレイヤーの場合、レベル1・2のエリアにはレベル3のオブジェクトは出現しない
- **視覚的表現**:
  - エリア境界は床面のデザイン変化や発光効果で表現
  - プレイヤーレベルアップ時にエリア解放エフェクトを表示

### 動的生成オブジェクト
- **生成タイミング**:
  - 一定時間経過後の定期生成
  - 特定数のオブジェクト破壊後の生成
  - コンボ達成時の特別生成
  - プレイヤーレベルアップ時の祝福的生成
- **生成ルール**:
  - 現在のプレイヤーレベルに対応した「壁」の範囲内でのみ生成
  - プレイヤーのレベルが上がるごとに生成可能エリアが拡大
- **特殊効果**:
  - 出現時の注目エフェクト（光、音、振動など）
  - 一時的な特殊能力を持つオブジェクト生成
  - 連鎖反応を起こしやすい配置パターンの生成

### 実装ポイント
- **パフォーマンス最適化**:
  - オブジェクトプールの使用による生成/破棄コスト削減
  - 視界外オブジェクトのLOD適用
- **バランス調整要素**:
  - プレイヤーレベル間の難易度曲線の最適化
  - 各エリアのオブジェクト密度と種類の比率調整
  - 動的生成頻度のゲーム進行に応じた調整